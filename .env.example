# ════════════════════════════════════════════════════════════════════════════
#  Project-01 | AI-Powered Stock Research Platform
#  Environment Variable Template
#
#  Copy this file to .env and fill in real values.
#  NEVER commit .env to version control.
# ════════════════════════════════════════════════════════════════════════════


# ── AI Provider Keys ─────────────────────────────────────────────────────────

# Anthropic Claude (Sprint 1 — all agents)
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI (Sprint 2 — optional fallback / embedding models)
OPENAI_API_KEY=sk-...


# ── Model Assignments (one per agent) ────────────────────────────────────────
# Use any Anthropic model ID. Recommended defaults shown.
# Heavier reasoning agents get Sonnet; fast/cheap tasks get Haiku.

MANAGER_MODEL=claude-sonnet-4-6
BUSINESS_ANALYST_MODEL=claude-sonnet-4-6
DATA_ENGINEER_MODEL=claude-sonnet-4-6
FINANCE_RESEARCHER_MODEL=claude-sonnet-4-6
TECHNICAL_ANALYST_MODEL=claude-sonnet-4-6
FUNDAMENTAL_ANALYST_MODEL=claude-sonnet-4-6
QA_TESTER_MODEL=claude-haiku-4-5-20251001
PROJECT_COORDINATOR_MODEL=claude-haiku-4-5-20251001
AI_ANALYST_MODEL=claude-sonnet-4-6


# ── Database ─────────────────────────────────────────────────────────────────

# Path to the local DuckDB file (relative to project root)
DUCKDB_PATH=data/db/project01.duckdb


# ── Budget Controls ──────────────────────────────────────────────────────────

# Maximum spend per full research report (USD). Hard-stops the pipeline if
# projected cost exceeds this before the final report is assembled.
MAX_COST_PER_REPORT_USD=0.50

# Daily API spend ceiling (USD). Prevents runaway scheduled jobs.
DAILY_BUDGET_LIMIT_USD=10.00

# Maximum Claude API tokens per individual agent call.
MAX_TOKENS_PER_AGENT_CALL=4096

# Maximum total input+output tokens for a full pipeline run.
MAX_TOKENS_PER_PIPELINE_RUN=100000


# ── Prompts ──────────────────────────────────────────────────────────────────

# Absolute path to the directory containing agent prompt .md files.
# LOCAL: point to your Project-01-Private/agents/prompts/ directory.
# RAILWAY: inject each prompt individually as an environment variable instead.
# This public repo contains NO agent prompts — they live in the private repo.
PROMPT_DIR=/Users/your-username/Documents/DataForge365/Project-01-Private/agents/prompts


# ── Prompt Caching ───────────────────────────────────────────────────────────

# Toggle Anthropic prompt caching (true/false).
# Caching large system prompts can reduce cost significantly on repeated calls.
ENABLE_PROMPT_CACHING=true

# Minimum system-prompt character length to qualify for cache insertion.
PROMPT_CACHE_MIN_CHARS=1024


# ── Data Refresh Schedule ────────────────────────────────────────────────────

# Cron expression for the scheduled price-data refresh job (n8n / Railway cron).
# Default: every weekday at 06:30 ET (11:30 UTC)
DATA_REFRESH_CRON=30 11 * * 1-5

# Number of days of OHLCV history to fetch on a full refresh.
HISTORY_DAYS=730

# Cache TTL in minutes for a generated research report.
# After this window, the next request triggers a fresh pipeline run.
REPORT_CACHE_TTL_MINUTES=60

# Force-refresh market data on every request regardless of cache age (true/false).
# Set true in development; false in production to control API costs.
FORCE_DATA_REFRESH=false


# ── App Settings ─────────────────────────────────────────────────────────────

# Streamlit server port (Railway sets this automatically in production)
PORT=8501

# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Environment label shown in the UI header
APP_ENV=development
